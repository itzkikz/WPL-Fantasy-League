<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <!-- Cache control for better PWA updates on iOS -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" />
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1e0021" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="WPLF">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <script>
    function iosPWASplash(t, e = "white") { if ("string" != typeof t || 0 === t.length) throw Error("Invalid icon URL provided"); let i = screen.width, a = screen.height, h = window.devicePixelRatio || 1, n = document.createElement("canvas"), l = document.createElement("canvas"), r = n.getContext("2d"), d = l.getContext("2d"), o = new Image; o.onerror = function () { throw Error("Failed to load icon image") }, o.src = t, o.onload = function () { let t = o.width / (3 / h), g = o.height / (3 / h); n.width = i * h, l.height = n.width, n.height = a * h, l.width = n.height, r.fillStyle = e, d.fillStyle = e, r.fillRect(0, 0, n.width, n.height), d.fillRect(0, 0, l.width, l.height); let c = (n.width - t) / 2, p = (n.height - g) / 2, s = (l.width - t) / 2, w = (l.height - g) / 2; r.drawImage(o, c, p, t, g), d.drawImage(o, s, w, t, g); let m = n.toDataURL("image/png"), u = l.toDataURL("image/png"), f = document.createElement("link"); f.setAttribute("rel", "apple-touch-startup-image"), f.setAttribute("media", "screen and (orientation: portrait)"), f.setAttribute("href", m), document.head.appendChild(f); let A = document.createElement("link"); A.setAttribute("rel", "apple-touch-startup-image"), A.setAttribute("media", "screen and (orientation: landscape)"), A.setAttribute("href", u), document.head.appendChild(A) } }
  </script>
  <script>
    const lightQuery = window.matchMedia('(prefers-color-scheme: light)');
    function applySplash() {
      const color = lightQuery.matches ? '#ffffff' : '#1e0021';
      const logo = lightQuery.matches ? 'wplf-light.png' : 'wplf-dark.png';
      document.querySelectorAll('link[rel="apple-touch-startup-image"]').forEach(el => el.remove());
      iosPWASplash(logo, color);
    }
    applySplash();
    if (lightQuery.addEventListener) {
      lightQuery.addEventListener('change', applySplash);
    } else if (lightQuery.addListener) {
      lightQuery.addListener(applySplash);
    }
  </script>
  <link rel="icon" href="/favicon.ico" sizes="48x48">
  <link rel="icon" href="/wplff.png" sizes="any" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WPL Fantasy Football</title>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>